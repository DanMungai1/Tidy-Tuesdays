geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<b>The Great One Could *Pass*</b><br><span style = 'font-size:13pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated **points** (goals and assists), no one past or present can touch Gretzky.") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", fill="#FC4E07", size=1.5, linetype="solid"))
Goal_Age
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<b>The Great One Could *Pass*</b><br><span style = 'font-size:13pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated **points** (goals + assists), no one past or present can touch Gretzky.") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<b>The Great One Could *Pass*</b><br><span style = 'font-size:13pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<b>The Great One Could *Pass*</b><br><span style = 'font-size:13pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:20pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:13pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:18pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:13pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
setwd("~/GitHub/Tidy-Tuesdays/2020-03-03")
ggsave("NHL.png", dpi = 300, width = 6.5, height = 7.5, units = "in")
ggsave("NHL.png", dpi = 300, width = 7.5, height = 7.5, units = "in")
ggsave("NHL.png", dpi = 300, width = 8.5, height = 7.5, units = "in")
ggsave("NHL.png", dpi = 300, width = 9.5, height = 8.5, units = "in")
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:18pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:15pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
ggsave("NHL.png", dpi = 300, width = 9.5, height = 8.5, units = "in")
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:18pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:15pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
ggsave("NHL.png", dpi = 300, width = 9.5, height = 8.5, units = "in")
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:18pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:15pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=15, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
ggsave("NHL.png", dpi = 300, width = 9.5, height = 8.5, units = "in")
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:20pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:16pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=16, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
ggsave("NHL.png", dpi = 300, width = 9.5, height = 8.5, units = "in")
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:20pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:16pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=18, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
ggsave("NHL.png", dpi = 300, width = 9.5, height = 8.5, units = "in")
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:20pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:16pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=18, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=2, linetype="solid"))+
theme(legend.position = "none")
Goal_Age
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:20pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:16pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "", caption = "Gray lines represent top 250 NHL Goal Scorers\nData Washington Post | #TidyTuesday | @Ian_Bellio") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=18, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1.25, linetype="solid"), )+
theme(legend.position = "none")
Goal_Age
ggsave("NHL.png", dpi = 300, width = 9.5, height = 8.5, units = "in")
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:20pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:16pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "", caption = "<span style = 'font-size:14pt'>Gray lines represent top 250 NHL Goal Scorers\nData: Washington Post • #TidyTuesday • @Ian_Bellio</span>") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=18, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1.25, linetype="solid"), )+
theme(legend.position = "none")
Goal_Age
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:20pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:16pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "", caption = "<span style = 'font-size:14pt'>Gray lines represent top 250 NHL Goal Scorers\nData: Washington Post • #TidyTuesday • @Ian_Bellio</span>") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=18, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1.25, linetype="solid"), )+
theme(legend.position = "none")+
theme(plot.caption = element_text(size = 15))
Goal_Age
Goal_Age <- ggplot()+
geom_line(player_cumulative, mapping = aes(x=age, y=value, color = player), size = 1.25)+
facet_wrap(~metric)+
gghighlight(player == "Wayne Gretzky" | player == "Alex Ovechkin"	, calculate_per_facet = TRUE, use_direct_label = FALSE)+
theme_minimal()+
labs(
title = "<span style = 'font-size:20pt'><b>The Great One Could *Pass*</b><br><span style = 'font-size:16pt'>Current NHL star <span style = 'color:#F8766D;'>**Alex Ovechkin**</span> just scored his 700th career goal, approaching hockey legend <span style = 'color:#00BFC4;'>**Wayne Gretzky**</span>'s total goals record of 894. But when we look at total accumulated  **points** (goals + assists), no one past or present can touch Gretzky.", x= "Age", y = "", caption = "Gray lines represent top 250 NHL Goal Scorers\nData: Washington Post • #TidyTuesday • @Ian_Bellio") +
theme(
plot.title.position = "plot",
plot.title = element_textbox_simple(
size = 13,
lineheight = 1,
padding = margin(5.5, 5.5, 5.5, 5.5),
margin = margin(0, 0, 5.5, 0),
fill = NULL
))+
theme(text = element_text(size=18, family = "Helvetica"))+
theme(strip.background = element_rect(color="black", size=1.25, linetype="solid"), )+
theme(legend.position = "none")+
theme(plot.caption = element_text(size = 12))
Goal_Age
ggsave("NHL.png", dpi = 300, width = 9.5, height = 8.5, units = "in")
ggsave("NHL.png", dpi = 300, width = 9.5, height = 6.5, units = "in")
ggsave("NHL.png", dpi = 300, width = 9.5, height = 6.5, units = "in")
library(tidyverse)
# Data
individuals <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-06-23/individuals.csv')
locations <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-06-23/locations.csv')
install.packages("elevatr")
library(elevatr)
View(locations)
View(individuals)
View(individuals)
locations_elev <- select(longitude, latitude, event_id)
locations_elev <- locations %>%
select(longitude, latitude, event_id)
View(locations_elev)
elevations <- get_elev_point(locations_elev)
elevations <- get_elev_point(locations_elev, src= "epqs")
locations_elev <- locations %>%
select(longitude, latitude)
elevations <- get_elev_point(locations_elev, src= "epqs")
locations_elev = as(locations_elev, "Spatial")
install.packages("rgbif")
library(rgbif)
locations_elev <- locations %>%
select(longitude, latitude, event_id)
new_elev <- elevation(input = locations, latitude = latitude, longitude = longitude, elevation_model = "srtm3", username = "envirooviwc")
new_elev <- elevation(input = locations, latitude = "latitude", longitude = "longitude", elevation_model = "srtm3", username = "envirooviwc")
new_elev <- elevation(latitude = locations$latitude, longitude = locations$longitude, elevation_model = "srtm3", username = "envirooviwc")
new_elev <- elevation(latitude = locations$latitude, longitude = locations$longitude, username = "envirooviwc")
new_elev <- elevation(latitude = locations$latitude, longitude = locations$longitude, username = "envirooviwc")
locations_elev <- locations %>%
select(longitude, latitude, event_id) %>%
top_n(50)
new_elev <- elevation(latitude = locations_elev$latitude, longitude = locations_elev$longitude, username = "envirooviwc")
new_elev <- elevation(latitude = locations_elev$latitude, longitude = locations_elev$longitude, username = "envirooviwc")
View(new_elev)
new_elev <- elevation(latitude = locations$latitude, longitude = locations$longitude, username = "envirooviwc")
View(new_elev)
locations_elev1 <- locations %>%
select(longitude, latitude, event_id) %>%
top_n(1000)
new_elev <- elevation(latitude = locations$latitude, longitude = locations$longitude, username = "envirooviwc")
locations_elev1 <- locations %>%
select(longitude, latitude, event_id) %>%
top_n(1000)
new_elev <- elevation(latitude = locations_elev$latitude, longitude = locations_elev$longitude, username = "envirooviwc")
locations_elev1 <- locations %>%
select(longitude, latitude, event_id) %>%
top_n(1000)
new_elev <- elevation(latitude = locations_elev1$latitude, longitude = locations_elev1$longitude, username = "envirooviwc")
View(new_elev)
View(new_elev)
View(individuals)
View(locations)
locations_weekly <- locations %>%
mutate(week = week(timestamp))
library(lubridate)
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp))
View(locations_weekly)
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp)) %>%
group_by(animal_id) %>%
summarise(wk_lat = mean(latitude), wk_long = mean(longitude))
View(locations_weekly)
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp)) %>%
group_by(animal_id, week, year) %>%
summarise(wk_lat = mean(latitude), wk_long = mean(longitude))
View(locations_weekly)
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp)) %>%
group_by(animal_id, week, year, study_site) %>%
summarise(wk_lat = mean(latitude), wk_long = mean(longitude))
new_elev <- elevation(latitude = locations_weekly$latitude, longitude = locations_weekly$longitude, username = "envirooviwc")
new_elev <- elevation(latitude = locations_weekly$wk_lat, longitude = locations_weekly$wk_long, username = "envirooviwc")
caribou_elev <- inner_join(new_elev, locations_weekly)
caribou_elev <- inner_join(new_elev, locations_weekly, by = c(wk_lat, latitude))
caribou_elev <- inner_join(new_elev, locations_weekly, by = c("wk_lat", "latitude"))
caribou_elev <- inner_join(new_elev, locations_weekly, by = c("latitude" = "wk_lat"))
View(caribou_elev)
caribou_elev <- inner_join(new_elev, locations_weekly, by = c("latitude" = "wk_lat", "longitude" = "wk_long"))
caribou_elev <- inner_join(new_elev, locations_weekly, by = c("latitude" = "wk_lat", "longitude" = "wk_long"))
caribou_elev <- outer_join(new_elev, locations_weekly, by = c("latitude" = "wk_lat", "longitude" = "wk_long"))
caribou_elev <- full_join(new_elev, locations_weekly, by = c("latitude" = "wk_lat", "longitude" = "wk_long"))
View(caribou_elev)
caribou_elev <- left_join(new_elev, locations_weekly, by = c("latitude" = "wk_lat", "longitude" = "wk_long"))
caribou_elev <- left_join(new_elev, locations_weekly, by = c(, "longitude" = "wk_long"))
caribou_elev <- left_join(new_elev, locations_weekly, by = c( "longitude" = "wk_long"))
caribou_elev <- right_join(new_elev, locations_weekly, by = c( "longitude" = "wk_long"))
caribou_elev <- semi_join(new_elev, locations_weekly, by = c( "longitude" = "wk_long"))
View(caribou_elev)
caribou_elev <- semi_join(locations_weekly,new_elev,  by = c( "wk_long" = "longitude"))
View(caribou_elev)
caribou_elev <- inner_join(locations_weekly,new_elev,  by = c( "wk_long" = "longitude"))
View(new_elev)
View(locations_weekly)
View(new_elev)
View(locations_weekly)
View(locations_weekly)
View(new_elev)
caribou_elev <- bind_rows(locations_weekly, new_elev)
View(caribou_elev)
caribou_elev <- bind_cols(locations_weekly, new_elev)
View(caribou_elev)
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp), isoweek = isoweek(timestamp)) %>%
group_by(animal_id, week, year, study_site) %>%
summarise(wk_lat = mean(latitude), wk_long = mean(longitude))
View(locations_weekly)
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp), isoweek = isoweek(timestamp)) %>%
group_by(animal_id, week, year, study_site) %>%
summarise(wk_lat = mean(latitude), wk_long = mean(longitude))
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp), isoweek = isoweek(timestamp)) %>%
group_by(animal_id, week, year, isoweek, study_site) %>%
summarise(wk_lat = mean(latitude), wk_long = mean(longitude))
View(locations_weekly)
class(locations_weekly$week)
class(locations_weekly$isoweek)
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp), c_week = ceiling_date(timestamp, unit = "week"))
View(locations_weekly)
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp), c_week = ceiling_date(timestamp, unit = "week")) %>%
group_by(animal_id, week, year, c_week, study_site) %>%
summarise(wk_lat = mean(latitude), wk_long = mean(longitude))
locations_weekly <- locations %>%
mutate(week = week(timestamp), year = year(timestamp), c_week = ceiling_date(timestamp, unit = "week")) %>%
group_by(animal_id,c_week, study_site) %>%
summarise(wk_lat = mean(latitude), wk_long = mean(longitude))
View(locations_weekly)
new_elev <- elevation(latitude = locations_weekly$wk_lat, longitude = locations_weekly$wk_long, username = "envirooviwc")
caribou_elev <- bind_cols(locations_weekly, new_elev)
Elev_plot <- ggplot(data = caribou_elev) + geom_line(x=c_week, y= elevation)
View(caribou_elev)
Elev_plot <- ggplot(data = caribou_elev) + geom_line(x=c_week, y= elevation_geonames)
Elev_plot <- ggplot(data = caribou_elev) + geom_line(aes(x=c_week, y= elevation_geonames, color= animal_id))
Elev_plot
Elev_plot <- ggplot(data = caribou_elev) + geom_line(aes(x=c_week, y= elevation_geonames))
Elev_plot
caribou_elev <- bind_cols(locations_weekly, new_elev) %>%
mutate(year = year(c_week)) %>%
filter(year >= 2001)
Elev_plot <- ggplot(data = caribou_elev) + geom_line(aes(x=c_week, y= elevation_geonames))
Elev_plot
Elev_plot <- ggplot(data = caribou_elev) + geom_line(aes(x=c_week, y= elevation_geonames)) + facet_wrap(~study_site)
Elev_plot
Elev_plot <- ggplot(data = caribou_elev) + geom_line(aes(x=c_week, y= elevation_geonames, color = latitude)) + facet_wrap(~study_site)
Elev_plot
Elev_plot <- ggplot(data = caribou_elev) + geom_line(aes(x=c_week, y= elevation_geonames, color = longitude)) + facet_wrap(~study_site)
Elev_plot
install.packages("moveVis")
library(moveVis)
library(move)
install.packages("moveVis")
yes
install.packages("moveVis")
library(moveVis)
install.packages("magick")
library(moveVis)
install.packages("magick")
library(moveVis)
library(move)
install.packages("move")
library(move)
library(moveVis)
data("locations", package = "moveVis")
locations <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-06-23/locations.csv')
data("locations", package = "moveVis")
m <- align_move(locations, res = 4 , unit = "mins")
movedata <- df2move(locations, x= latitude, y=longitude, time = timestamp)
movedata <- df2move(locations, x= latitude, y=longitude, proj = "WGS84" time = timestamp)
data("locations", package = "moveVis")
movedata <- df2move(locations, x= latitude, y=longitude, proj = "WGS84", time = timestamp)
movedata <- df2move(locations, x= latitude, y=longitude, proj = 4326, time = timestamp)
movedata <- df2move(locations, x= "latitude", y="longitude", proj = 4326, time = timestamp)
movedata <- df2move(locations, x= "latitude", y="longitude", proj = 4326, time = timestamp, track_id = "animal_id")
movedata <- df2move(locations, x= "latitude", y="longitude", proj = 4326, time = "timestamp", track_id = "animal_id")
