plot(cars)
plot(cars)
source('~/GitHub/Tidy-Tuesdays/Dec 2 2019/PA_Tickets.R', echo=TRUE)
View(tickets)
View(tickets)
library(tidyverse)
library(rgdal)
Phily_limits <- readOGR("City_Limits.shp")
Phily_limits <- readOGR("City_Limits.shp", layer = "City_Limits")
library(rgdal)
Phily_limits <- readOGR("City_Limits.shp", layer = "City_Limits")
setwd("~/GitHub/Tidy-Tuesdays/Dec 2 2019")
Phily_limits <- readOGR("City_Limits.shp", layer = "City_Limits")
City1 <- ggplot() + geom_polygon(data=Phily_limits, aes(x=long, y=lat, group=group))
City1
City1 <- ggplot() + geom_polygon(data=Phily_limits, aes(x=long, y=lat, group=group)) + geom_point(data=tickets, aes(x=long, y=lat), color = "red")
City1
City1 <- ggplot() + geom_polygon(data=Phily_limits, aes(x=long, y=lat, group=group)) + geom_point(data=tickets, aes(x=lon, y=lat), color = "red")
City1
City1 <- ggplot() + geom_polygon(data=Phily_limits, aes(x=long, y=lat, group=group)) + geom_point(data=tickets, aes(x=lon, y=lat), color = "red")
City1
City1 <- ggplot() + geom_point(data=tickets, aes(x=lon, y=lat), color = "red")
City1
City1
scum <- tickets %>%
filter(violation_desc == "COUNTERFEIT HP PERM", violation_desc == "	FRAUD PARK HP SPACE", violation_desc == "HP RESERVED SPACE")
scum <- tickets %>%
filter(violation_desc == "COUNTERFEIT HP PERM", violation_desc == "	FRAUD PARK HP SPACE", violation_desc == "HP RESERVED SPACE")
scum  <-  tickets  %>%
filter(violation_desc == "COUNTERFEIT HP PERM")
library(tidyverse)
library(rgdal)
scum  <-  tickets  %>%
filter(violation_desc == "COUNTERFEIT HP PERM")
#Pull in data
#Tidy Tuesday parking ticket data from 2017
tickets <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-03/tickets.csv")
Phily_limits <- readOGR("City_Limits.shp", layer = "City_Limits")
scum  <-  tickets  %>%
filter(violation_desc == "COUNTERFEIT HP PERM")
City1 <- ggplot() + geom_point(data=scum, aes(x=lon, y=lat), color = "red")
City1
City1 <- ggplot() + geom_point(data=scum, aes(x=lon, y=lat), color = "red")+ geom_polygon(data=Phily_limits, aes(x=long, y=lat, group=group))
City1
Phily_limits <- readOGR("City_Limits.shp", layer = "City_Limits")
setwd("~/GitHub/Tidy-Tuesdays/Dec 2 2019")
Phily_limits <- readOGR("City_Limits.shp", layer = "City_Limits")
City1 <- ggplot() + geom_point(data=scum, aes(x=lon, y=lat), color = "red")+ geom_polygon(data=Phily_limits, aes(x=long, y=lat, group=group))
City1
City1 <- ggplot() + geom_polygon(data=Phily_limits, aes(x=long, y=lat, group=group)) + geom_point(data=scum, aes(x=lon, y=lat), color = "red")
City1
City1 <- ggplot() + geom_polygon(data=Phily_limits, aes(x=long, y=lat, group=group)) + geom_point(data=tickets, aes(x=lon, y=lat, color=fine), color = "red")
City1
Violation_list <- tickets %>%
count(violation_desc) %>%
arrange(desc(n))
View(Violation_list)
Daily <- tickets %>%
order_by(issue_datetime) %>%
#Narrow down the violations to those that involve handicap violations
scum  <-  tickets  %>%
filter(violation_desc == "COUNTERFEIT HP PERM")
Daily <- tickets %>%
order_by(issue_datetime) %>%
#Narrow down the violations to those that involve handicap violations
scum  <-  tickets  %>%
filter(violation_desc == "COUNTERFEIT HP PERM")
Daily <- tickets %>%
order_by(issue_datetime)
Daily <- tickets %>%
order_by(issue_datetime)
Daily <- tickets %>%
mutate(date = date(issue_datetime))
Daily <- tickets %>%
mutate(d = date(issue_datetime))
Daily <- tickets %>%
mutate(d = date(issue_datetime))
Daily <- tickets %>%
mutate(d = floor_date(issue_datetime))
library(lubridate)
Daily <- tickets %>%
mutate(d = floor_date(issue_datetime))
View(Daily)
Daily <- tickets %>%
mutate(d = floor_date(issue_datetime, unit = "day"))
View(Daily)
Daily <- tickets %>%
mutate(date = floor_date(issue_datetime, unit = "day")) %>%
group_by(issue_datetime)
View(Daily)
Daily <- tickets %>%
mutate(date = floor_date(issue_datetime, unit = "day")) %>%
group_by(issue_datetime)
View(Daily)
Daily <- tickets %>%
mutate(date = floor_date(issue_datetime, unit = "day")) %>%
group_by(date)
View(Daily)
Daily <- tickets %>%
mutate(date = floor_date(issue_datetime, unit = "day")) %>%
group_by(date) %>%
summarise(violations_day = count(date))
Daily <- tickets %>%
mutate(date = floor_date(issue_datetime, unit = "day")) %>%
group_by(date) %>%
summarise(violations_day = count(violation_desc))
Daily <- tickets %>%
mutate(date = floor_date(issue_datetime, unit = "day")) %>%
group_by(date) %>%
summarise(violations_day = count())
Daily <- tickets %>%
mutate(date = floor_date(issue_datetime, unit = "day")) %>%
group_by(date) %>%
summarise(violations_day = count(issue_datetime), ave_fine = mean(fine))
Daily <- tickets %>%
mutate(date = floor_date(issue_datetime, unit = "day")) %>%
group_by(date) %>%
summarise(violations_day = count(date), ave_fine = mean(fine))
Class(Daily$date)
class(Daily$date)
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine))
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine))
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine))
View(Daily)
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine))
View(Daily)
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = count(violation_desc))
library(tidyverse)
library(rgdal)
library(lubridate)
#Pull in data
#Tidy Tuesday parking ticket data from 2017
tickets <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-03/tickets.csv")
Phily_limits <- readOGR("City_Limits.shp", layer = "City_Limits")
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = count(violation_desc))
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = count(violation_desc))
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = count(date))
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = count(fine))
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = count(zip_code))
library(tidyverse)
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = count(zip_code))
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = count(violation_desc))
Daily <- tickets %>%
mutate(date = date(issue_datetime)) %>%
group_by(date) %>%
summarise(ave_fine = mean(fine), violations = n())
View(Daily)
Violations_day <- ggplot() + geom_line(data = Daily, aes(x=date, y=violations))
violations_day
Violations_day <- ggplot() + geom_line(data = Daily, aes(x=date, y=violations))
violations_day
Violations_day
library(readr)
faa_daily_KPHL_20170101_20171231 <- read_csv("faa_daily-KPHL_20170101-20171231.csv",
col_types = cols(AveT = col_double(),
`Date (EST)` = col_date(format = "%m/%d/%Y")),
skip = 16)
View(faa_daily_KPHL_20170101_20171231)
weather <- read_csv("faa_daily-KPHL_20170101-20171231.csv",
col_types = cols(AveT = col_double(),
`Date (EST)` = col_date(format = "%m/%d/%Y")),
skip = 16)
weather <- read_csv("faa_daily-KPHL_20170101-20171231.csv",
col_types = cols(AveT = col_double(),
`Date (EST)` = col_date(format = "%m/%d/%Y")),
skip = 16)
weather <- read_csv("faa_daily-KPHL_20170101-20171231.csv",
col_types = cols(AveT = col_double(),
`date` = col_date(format = "%m/%d/%Y")),
skip = 16)
#Join daily tickets and weather data
Daily_Tx_Wx <- inner_join(Daily, weather, by "date")
#Join daily tickets and weather data
Daily_Tx_Wx <- inner_join(Daily, weather, by = "date")
View(Daily_Tx_Wx)
View(Daily_Tx_Wx)
plot_TempvTx <- ggplot(date = Daily_Tx_Wx, aes(x= AveT, y= violations)) + geom_point()
plot_TempvTx <- ggplot(data = Daily_Tx_Wx, aes(x= AveT, y= violations)) + geom_point()
plot_TempvTx
plot_TempvTx <- ggplot(data = Daily_Tx_Wx, aes(x= Precip, y= violations)) + geom_point()
plot_TempvTx
